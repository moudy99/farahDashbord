<section class="gradient-custom mt-5">
     <div class="container">
          <div class="row justify-content-center">
               <div class="col-lg-8">
                    <div class="card text-white" style="border-radius: 1rem; background-color: var(--mainColor);">
                         <div class="card-body">
                              <h3 class="card-title text-center">إضافة بيوتي سنتر</h3>
                              <form (ngSubmit)="onSubmit()" [formGroup]="beautyCenterForm">
                                   <div class="mb-3">
                                        <label class="form-label" for="name">الاسم</label>
                                        <input type="text" id="name" class="form-control" formControlName="name" />
                                        <div *ngIf="beautyCenterForm.get('name')?.invalid && beautyCenterForm.get('name')?.touched"
                                             class="text-danger">الاسم مطلوب</div>
                                   </div>
                                   <div class="mb-3">
                                        <label class="form-label" for="description">الوصف</label>
                                        <input type="text" id="description" class="form-control"
                                             formControlName="description" />
                                        <div *ngIf="beautyCenterForm.get('description')?.invalid && beautyCenterForm.get('description')?.touched"
                                             class="text-danger">الوصف مطلوب</div>
                                   </div>
                                   <div class="mb-3">
                                        <label class="form-label" for="gove">المحافظة</label>
                                        <select id="gove" class="form-control" formControlName="gove">
                                             <!-- <option value="">اختر المحافظة</option> -->
                                             <option *ngFor="let governorate of AllGovernments"
                                                  [value]="governorate.governorateID">
                                                  {{ governorate.name }}
                                             </option>
                                        </select>
                                        <div *ngIf="beautyCenterForm.get('gove')?.invalid && beautyCenterForm.get('gove')?.touched"
                                             class="text-danger">
                                             المحافظة مطلوبة
                                        </div>
                                   </div>
                                   <div class="mb-3">
                                        <label class="form-label" for="city">المدينة</label>
                                        <select id="city" class="form-control" formControlName="city">
                                             <!-- <option value="">اختر المدينة</option> -->
                                             <option *ngFor="let city of Cites" [value]="city.id">
                                                  {{ city.name }}
                                             </option>
                                        </select>
                                        <div *ngIf="beautyCenterForm.get('city')?.invalid && beautyCenterForm.get('city')?.touched"
                                             class="text-danger">
                                             المدينة مطلوبة
                                        </div>
                                   </div>

                                   <div class="mb-3">
                                        <label class="form-label">صور</label>
                                        <input type="file" id="fileInput" (change)="onFileSelected($event)" multiple>
                                        <div *ngIf="images.length > 0" class="mt-2">
                                             <p>الصور المختارة:</p>
                                             <ul class="list-group">
                                                  <li *ngFor="let image of images"
                                                       class="list-group-item d-flex align-content-center flex-row-reverse justify-content-end">
                                                       <img [src]="image.url" alt="{{ image.file.name }}"
                                                            class="img-thumbnail mx-3" width="50">
                                                       {{ image.file.name }}
                                                       <button type="button"
                                                            class="mx-3 btn btn-danger btn-sm float-end"
                                                            (click)="removeImage(image)">حذف</button>
                                                  </li>
                                             </ul>
                                        </div>
                                   </div>
                                   <div class="mb-3">
                                        <label class="form-label">الخدمات</label>
                                        <button type="button" class="btn btn-outline-light" (click)="openServiceModal()"
                                             data-bs-toggle="modal" data-bs-target="#serviceModal">إضافة خدمة</button>
                                        <div *ngIf="services.length > 0" class="mt-2">
                                             <p>الخدمات المضافة:</p>
                                             <table class="table table-striped table-dark">
                                                  <thead>
                                                       <tr>
                                                            <th>اسم الخدمة</th>
                                                            <th>وصف الخدمة</th>
                                                            <th>سعر الخدمة</th>
                                                            <th>موعد الخدمة</th>
                                                            <th>الإجراءات</th>
                                                       </tr>
                                                  </thead>
                                                  <tbody>
                                                       <tr *ngFor="let service of services">
                                                            <td>{{ service.name }}</td>
                                                            <td>{{ service.description }}</td>
                                                            <td>{{ service.price }}</td>
                                                            <td>{{ service.appointment | date:'short' }}</td>
                                                            <td>
                                                                 <button type="button" class="btn btn-danger btn-sm"
                                                                      (click)="removeService(service)">حذف</button>
                                                            </td>
                                                       </tr>
                                                  </tbody>
                                             </table>
                                        </div>
                                   </div>
                                   <button class="btn btn-outline-light d-flex justify-content-center m-auto"
                                        type="submit">إرسال</button>
                              </form>
                         </div>
                    </div>
               </div>
          </div>
     </div>
</section>

<!-- Service Modal -->
<div class="modal fade" id="serviceModal" tabindex="-1" aria-labelledby="serviceModalLabel" aria-hidden="true">
     <div class="modal-dialog">
          <div class="modal-content">
               <div class="modal-header">
                    <h5 class="modal-title" id="serviceModalLabel">إضافة خدمة</h5>
               </div>
               <div class="modal-body">
                    <form>
                         <div class="mb-3">
                              <label for="serviceName" class="form-label">اسم الخدمة</label>
                              <input type="text" id="serviceName" class="form-control" [(ngModel)]="newService.name"
                                   name="serviceName" />
                         </div>
                         <div class="mb-3">
                              <label for="serviceDescription" class="form-label">وصف الخدمة</label>
                              <input type="text" id="serviceDescription" class="form-control"
                                   [(ngModel)]="newService.description" name="serviceDescription" />
                         </div>
                         <div class="mb-3">
                              <label for="servicePrice" class="form-label">سعر الخدمة</label>
                              <input type="number" id="servicePrice" class="form-control" [(ngModel)]="newService.price"
                                   name="servicePrice" />
                         </div>
                         <div class="mb-3">
                              <label for="serviceAppointment" class="form-label">موعد الخدمة</label>
                              <input type="datetime-local" id="serviceAppointment" class="form-control"
                                   [(ngModel)]="newService.appointment" name="serviceAppointment" />
                         </div>
                         <div class="modal-footer">
                              <button type="button" class="btn btn-dark" data-bs-dismiss="modal">إغلاق</button>
                              <button type="button" class="btn btn-success" (click)="addService()"
                                   data-bs-dismiss="modal">إضافة</button>
                         </div>
                    </form>
               </div>
          </div>